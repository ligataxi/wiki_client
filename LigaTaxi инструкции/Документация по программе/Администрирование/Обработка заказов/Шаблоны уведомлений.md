В разделе создаются шаблоны для автоматических уведомлений клиента об изменении статуса его заказа. Уведомление возможно при помощи смс, телефонного звонка либо (при условии использования приложения клиента) push-уведомлений.

Для создания шаблона уведомлений необходимо нажать на зеленую кнопку “Добавить”. После этого требуется настроить следующие поля настроек:

* **Название** - укажите произвольное название для шаблона, которое в дальнейшем будет использоваться для его идентификации в программе
* **Выпадающий список “Тип”** - выберите один из предложенных типов уведомления, который будет задействован для данного шаблона. Присутствуют следующие варианты выбора:
    * **SMS** - клиент будет оповещен при помощи отправки sms-сообщения. Для срабатывания уведомлений такого типа требуется настроенный шлюз SMS
    * **Отзвон** - клиент будет оповещен при помощи телефонного звонка, который осуществляет робот. В программе должна быть настроена телефония и исходящая маршрутизация звонков. Тарификация вызовов осуществляется согласно тарифу выбранного оператора связи
    * **Push уведомления** - клиент будет оповещен при помощи push-уведомления, которое поступает в клиентское приложение. Шаблоны такого рода могут эффективно использоваться только при условии наличия установленного приложения на смартфоне клиента (иначе уведомление не поступит адресату)
    * **Шаблон уведомлений “Водительское приложение”** - данный тип уведомлений предназначен для голосовых собщений на таксометре водителя для разных статусов заказа.
    * **Отправить email -** клиент будет проинформирован по электронной почте, указанной в карточке клиента.

В зависимости от того, какой тип уведомлений выбран, следующие поля настроек будут изменены. Так, при типе “Отзвон” необходимо настроить следующие поля:

* **Количество повторов сообщения** - укажите количество раз повторения сообщения, заложенного в настроенный шаблон
* **Количество попыток отзвона** - укажите количество попыток дозвониться клиенту. Применяется в случаях, когда с первой попытки дозвон клиенту не доходит
* **Сообщение для уведомления водителя** - укажите сообщение, которое будет отображено в приложении водителя. Данное сообщение поступит, когда клиент будет уведомлен об изменении статуса заказа. Если данное поле оставить пустым, водитель уведомление не получит
* **Блок “Фраза”** - в данном блоке находится конструктор, при помощи которого можно создать необходимое сообщение, которое будет транслироваться клиенту в звонке. Для начала работы необходимо нажать на кнопку “Добавить еще”. После этого станет доступен выпадающий список “Тип”. В нем необходимо выбрать одну из двух опций:
    * **Аудиофайл** - предоставляет доступ к звуковым файлам, доступным в разделе [https://txcloud.atlassian.net/wiki/x/Y4C1](https://txcloud.atlassian.net/wiki/x/Y4C1) . К этому типу относятся статичные файлы, содержание которых одинаково во всех сообщениях данного шаблона (например, фраза “Вас ожидает автомобиль марки”, “Приятной поездки” и т.д.). Для выбора нужного аудиофайла воспользуйтесь выпадающим списком, который появится справа от выпадающего списка “Тип”
    * **Переменная** - предоставляет доступ к списку переменных, содержание которых меняется в каждом заказе. К данному типу относятся такие переменные, как номер, цвет, марка, модель автомобиля и т.д.

При выбранном типе “SMS“ и “Push уведомления“ доступны следующие поля настроек:

* **Шаблон** - Здесь нужно ввести текст SMS сообщения, которое будет отправлено клиенту. Так же возможно использование дополнительных переменных в шаблоне. Доступен следующий список переменных:
    * [order_id] - айди заказа
    * [pickup_address_locality] - нас пункт адреса вызова
    * [pickup_address] - адрес вызова
    * [destination_locality] - нас пункт конечного адреса поездки
    * [destination] - конечный адрес поездки
    * [car_vendor] - производитель (БМВ, Шевроле и т.д.)
    * [car_model] - модель авто
    * [car_color] - цвет
    * [car_type] - тип (легковая, минивен, бус 6 мест и т.д.)
    * [car_number] - номер авто
    * [order_price] - стоим. заказа
    * [pickup_time] - время заказа
    * [pickup_date] - дата заказа
    * [client_receipt] - Отправка чека в конце поездки
    * [driver_phone] - тел водителя
    * [driver_name] - фио водителя
    * [distance_to_client] - расстояние от водителя до адреса подачи
    * [time_to_client] - время через которое водитель приедет к адресу подачи (в минутах)
    * [bonus_charges] начисления бонусов за заказ
    * [bonus_balance] остаток на бонусном счете
    * [bonus_discharges] использовано бонусов
* **Сообщение для уведомления водителя** - укажите сообщение, которое будет отображено в приложении водителя. Данное сообщение поступит, когда клиент будет уведомлен об изменении статуса заказа. Если данное поле оставить пустым, водитель уведомление не получит

После завершения настроек шаблона необходимо нажать на кнопку “Сохранить”, и применить конфигурацию к серверу. Далее созданный шаблон можно будет использовать в настройках автоинформирования конкретного типа заказа.